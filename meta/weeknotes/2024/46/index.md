# 2024 - Week 46

Dear reader, no sooner did we [promise to bring these notes up to a weekly cadence](https://ukparliament.github.io/ontologies/meta/weeknotes/2024/42/#correcting-cadence), than we promptly fell off the wagon. Please rest assured, no hangovers were involved this time round. To be honest, you haven't missed much. [Lead Librarian Anya](https://bsky.app/profile/anyaso.bsky.social) chose week 45 to take a trip to the [old country](https://en.wikipedia.org/wiki/Boyle,_County_Roscommon), productivity taking an understandable tumble. Losing one's Lead Librarian would knock productivity in any organisation. How organisations lacking librarians - and, as unbelievable as it may seem, we are assured such organisations exist - cope, we will never know. Let's get stuck into the few things that have happened.

## New, old search

Over in the [front end of new, old search](https://parliamentary-search-265cced0397e.herokuapp.com/search-prototype), Developer Jon has been busying himself tidying pixels.

Spring cleaning of [object pages](https://parliamentary-search-265cced0397e.herokuapp.com/search-prototype/objects?object=http%3A%2F%2Fhansard.intranet.data.parliament.uk%2FCommons%2F2012-12-18%2F12121863000016) is well underway, bold styling in introductory sentences has been removed, [h](https://www.w3schools.com/tags/tag_hn.asp)3s in the main content block have been 'dialed back', the about section has lost its heading, and content sections have been 'boxed out'. Last, but not least, the weightings of labels and actual content in the about section have been reversed, all concerned feeling the content was probably more important here. Take a look at [this written answer](https://parliamentary-search-265cced0397e.herokuapp.com/search-prototype/objects?object=http%3A%2F%2Fdata.parliament.uk%2Fwrittenparliamentaryquestion%2Fcommons%2F2015-16%2F28407) if you won't believe us. Much neater. The overall effect is best experienced when navigating from a set of search results to an object page. An experience that no longer feels like you've tripped over a novel and ended up face first in a picture book. 

Jon has also been applying his feather duster in [result listing](https://parliamentary-search-265cced0397e.herokuapp.com/search-prototype/search?query=conker&commit=Search) land, where line heights are now consistently set out. Facet panes have also been tidied - the three way split between asking members, lead members and tabling members all now replaced with [a single primary member facet box](https://parliamentary-search-265cced0397e.herokuapp.com/search-prototype/search?query=cow). Weeknotes [passim](https://ukparliament.github.io/ontologies/meta/weeknotes/2024/42/), with more [thanks to our Jianhan](https://ukparliament.github.io/ontologies/meta/weeknotes/2024/42/#new-old-search). For reasons we don't quite understand, an old bug crept back in, whereby facet filters got shown even where they filtered down to zero results. A feature perhaps, but not a useful one. That has also been fixed.

In our final bit of search front end news, we're happy to announce that Jon's code is now running on [Heroku](https://en.wikipedia.org/wiki/Heroku) in the EU. This because [computational 'expert' Michael](https://bsky.app/profile/fantasticlife.bsky.social) accidentally set up the old one in the US. In fairness, that was many moons ago, and took place over a pint in the [Strangers' Bar](https://en.wikipedia.org/wiki/Strangers%27_Bar). Given there is no data of a personal nature involved it didn't seem too big a deal. At least until one considers the architecture. If you've been following along from home, you'll know that Jon's code hits two APIs - one to get a list of search results, one to resolve identifiers from [our taxonomy](https://explore.data.parliament.uk/index.html?endpoint=terms). A single set of search results may contain a great many such identifiers, resulting in a fair few calls to our taxonomy API. The search code living in California and the APIs the code depends on being closer to home did not help with performance. Jon running a search in Sheffield would see his request travel across the Atlantic, the search code request to [Solr](https://en.wikipedia.org/wiki/Apache_Solr) travel back across the Atlantic, the Solr response make another trans-Atlantic trip, one or more taxonomy requests and responses making the same journey, before the response was finally sent back from California to Jon in Sheffield. Truly we have accidentally circumnavigated the globe. Only slightly shamefaced, Michael took to a whiteboard to explain this slight snafu to assembled librarians. To the sound of much merriment. Still, one pays peanuts etc.

## Odds and indeed sods

Elsewhere, efforts continue to both liberate our taxonomy and replace our Odds and Sods Information System. Or OaSIS to its many friends. [Our Silver](https://datalanguage.com/contributors/silver-oliver) reports that he's managed to wrangle [a worked example of a committee report](https://trello.com/c/q8I2ys9x/109-worked-example) into our putative replacement, [Data Graphs](https://datalanguage.com/products/datagraphs). He's also been [investigating the message format](https://trello.com/c/iMzig8q7/79-look-at-message-format-for-harvester-for-oasis-to-harvester) output by the current OaSIS application, in the hope we can emulate it from Data Graphs in the not too distant. If that proves possible, it should not - in theory - be beyond the wit of man to point the emulated feed at our [ETL](https://en.wikipedia.org/wiki/Extract,_transform,_load) Harvester code, from where newly authored data will flow to our [triplestore](https://en.wikipedia.org/wiki/Triplestore). Which brings us neatly on to ...

## Triplestore tribulations

Like much of our software, our production triplestore is some version numbers behind what's considered current. Or, as the vendor explains, "the oldest known example operating in the wild". Age may bring wisdom, but such wisdom is all too often accompanied by creaking bones and generalised lethargy. Feeling its age, it takes several seconds to read a record and many more seconds to save one. Time being money and librarians not being cheap - well, not free - this is a source of some frustration.

At this point, our Jianhan enters the picture, resplendent with plan. Having identified all the dependencies - everything that writes to the triplestore and everything that reads from it - he seems pretty confident that we can take a staged approach to rewriting and replacing. And that waiting times of up to a minute will come down to a second or so. Music to librarian ears.

## I am a procedural cartographer - to [the tune of the Palace Brothers](https://www.youtube.com/watch?v=owvF3Vb0JhA&ab_channel=tomkat69pc)

This week brought a small but welcome change to our [treaty tracking website](https://treaties.parliament.uk/). The problem arises from the website dealing not only with [treaty procedures](https://ukparliament.github.io/ontologies/procedure/maps/treaties/crag-treaties/crag-treaties.pdf) in progress, but also with treaties yet to be. Or not be. Unfortunately, the word 'treaty' had been hardcoded in templates, appearing for things that were not yet treaties and may very well never become treaties. This [hardcoding has now been removed](https://treaties.parliament.uk/?SearchTerm=Negotiations+for+a+potential+agreement+between+the+UK&ParliamentaryProcess=&LeadGovernmentOrganisationId=&SeriesFilter=&House=&MotionsTabledAboutATreaty=&CommitteeRaisedConcerns=&DebateScheduled=&ShowAdvanced=False), much to the relief of international lawyers everywhere.

Jayne and Michael have also been chipping away at what they lovingly call their '[procedure browsable space](https://procedure-browser-159b715822a4.herokuapp.com/)', which this week gained new pages - and a dash of RSS - [listing procedures](https://procedure-browser-159b715822a4.herokuapp.com/procedures), [showing procedures](https://procedure-browser-159b715822a4.herokuapp.com/procedures/D00dsjR2), [listing work packages](https://procedure-browser-159b715822a4.herokuapp.com/work-packages) and [listing the events forming a work package](https://procedure-browser-159b715822a4.herokuapp.com/work-packages/0lkf0D9U). [Event pages](https://procedure-browser-159b715822a4.herokuapp.com/events/B5c8uT54) still require work, that work requiring a conversation. It means you can now follow your nose from a step page like [Government response to the decision made by the International Trade Committee (ITC)](https://procedure-browser-159b715822a4.herokuapp.com/steps/8FDE1V0L), to all the [events where that step is actualised](https://procedure-browser-159b715822a4.herokuapp.com/steps/8FDE1V0L/events), to the [timeline of a work package](https://procedure-browser-159b715822a4.herokuapp.com/work-packages/6uj4zhJl#event-FEBF6VMq-actualising-8FDE1V0L), to [the pertinent event](https://procedure-browser-159b715822a4.herokuapp.com/events/FEBF6VMq), to [the report itself](https://publications.parliament.uk/pa/cm5803/cmselect/cmbeis/1614/report.html). Lovely stuff.

There's nothing quite like pinning out data - museum butterfly-style - to spot errors and inconsistencies. And we cannot pretend that errors and inconsistencies have not come to light. A set of links to internal-only [data.parliament.uk](https://explore.data.parliament.uk/) pages being top of the list. All now fixed. Obviously.

## Psephologising wildly

In preparation for the inclusion of by-election data, our [election results website](https://electionresults.parliament.uk/) has seen one tiny change, [elections in a general election](https://electionresults.parliament.uk/elections/7) now carry dates - the date of the preceding dissolution - for the issuing of their writs. Data Scientist Louie has sent through by-election data for [Parliament 58](https://electionresults.parliament.uk/parliament-periods/58), which your regular correspondent should probably be uploading around now. Unfortunately, your regular correspondent has copped a pretty nasty bout of man-flu and is incapable of doing anything requiring thought. Hence typing this nonsense.

## Facts / figures

Yet another in our seemingly endless series of [Facts and Figures publications](https://commonslibrary.parliament.uk/tag/parliament-facts-and-figures/) has made its way back to the shelves and is now available in all good libraries and newsagents. This one dealing with [Mr Speaker making statements taking the government to task over policy announcements made outside of Parliament](https://commonslibrary.parliament.uk/research-briefings/sn05647/). More excellent work from Librarian Jayne. Dip in. Enjoy.

In the slightly longer term, Anya and Michael have a half-hatched plan to investigate similarities across PFF publications and see if anything resembling a common [domain model](https://en.wikipedia.org/wiki/Domain_model) emerges. If that does prove to be the case, loading the spreadsheets into a common system and semantically linking them - the definition of a session in this spreadsheet matching the definition of a session in this other spreadsheet - remains an option. And should that be possible, placing the whole lot inside a [Datasette](https://datasette.io/) and allowing users free-range to query certainly has its attractions. Replacing a whole slew of spreadsheets with some queries over a database describing most of what we do. To that end, Anya and Michael met with Silver on Friday to check if Data Graphs might play a role in consolidation and amalgamation. We remain ever hopeful.

## Print and publications

It's been a busy week for the Library's printers, the ever-obliging Mr Tetteh seeing fit to print not one but two absolutely humongous posters. The first - a billboard version of the [Members' Names Information System database schema](https://github.com/ukparliament/ontologies/blob/master/meta/relational/mnis/schema.svg) - has gone up on our print room wall, the better for tracking progress on tidying and documenting. The second - an equally gigantic print of our [made affirmative procedure map](https://ukparliament.github.io/ontologies/procedure/maps/legislation/secondary/statutory-instruments/affirmative-procedures/made/made-affirmative.pdf) - has been donated to Jayne. Take it home, we suggested. Pop it above your mantlepiece, we encouraged. It's lovely, replied Jayne, but also no.

Librarian Anya has also been busy printing - albeit at a slightly smaller scale - churning out new stickers designed by Librarian Emily to [celebrate 45 years of Parliament's controlled vocabulary](https://trello.com/1/cards/66978d8421e8f2cb4365beae/attachments/66bdf0c7b52a9ec843a390ea/previews/66bdf0c8b52a9ec843a390f6/download/4eaa22bc-3ec2-492b-9030-052fed50795c.jpg). If you're a practicing Librarian, with space on your corporate Dell, please do get in touch and we'll see what we can do.

## Mitigating Mastodon

If you tuned in [last time out](https://ukparliament.github.io/ontologies/meta/weeknotes/2024/44/#farewell---for-now---mastodon), you'll be all too aware that our [lovingly created Mastodon bots](https://ukparliament.github.io/ontologies/meta/bots/) are reaching end-of-life. This occasioned by the [unexpected closure](https://muffinlabs.com/posts/2024/10/29/10-29-rip-botsin-space/) of [bots-in-space](https://botsin.space/about). The unhappy news was broken to us by [James the First](https://mastodon.me.uk/deck/@jamesjefferies), though mitigated somewhat by [James the Second](https://mastodon.me.uk/deck/@Floppy) announcing he's [happy to give current residents of his instance bot-making abilities](https://mastodon.me.uk/deck/@Floppy/113465919080502879). Anya, James the First and Michael being amongst those residents helping matters here. Friday of this week saw Michael fighting off the man-flu to join Librarian Anna, Young Robert, James the First and James the Second in pixels. We now have half a plan to migrate our current bots to [mastodon.me.uk](https://mastodon.me.uk/) before the mid-December cut off point. Hosting our own instance for the purpose of federating - and indeed syndicating - remains on the table. Though may prove hard to justify to elders and betters. Stay tuned.

## Outreach and engagement

Wednesday of week 45 saw the inaugural House of Commons Library 'Working with Procedure' day. Masterminded and expertly curated by [Researcher Graeme](https://bsky.app/profile/woodstockjag.bsky.social). Very enjoyable it was too, our very own Librarian Jayne making a guest appearance mid-afternoon for a panel session on delegated legislation. Well, what else would she be talking about? Thank you Jayne. And thank you Graeme.

Still with Graeme, the following Wednesday he was kind enough to let us borrow his brains for a [whiteboard sketching session](https://bsky.app/profile/fantasticlife.bsky.social/post/3lau6n5gdes2y) covering all things shaped roughly like [organisations accountable to Parliament](https://ukparliament.github.io/ontologies/question-and-answer/question-and-answer-ontology#d4e181). There has been an OATP shaped hole in [our models](https://ukparliament.github.io/ontologies/) for quite some time. A hole we've never quite worked up the enthusiasm to fill. This changed when [Cabinet Office Kelcey](https://bsky.app/profile/kelceyswain.com) got in touch to say he was paddling in very similar waters. It will probably not come as a surprise to learn that the whole business of when and how a government organisation came into being, what positions were in that organisation and who held those positions over time is something of a spreadsheet jungle. Such matters often are. What Kelcey would like is a linked data system to describe it all. Which, by some coincidence, is also something we'd rather like. A Cavalier / Roundhead pact has been made and we've pledged to work together where possible, Civil War era differences being easier to overcome than sharing on Sharepoint. The meeting with Graeme's brains was the first step on a long and possibly arduous journey. Godspeed young hobbits.
