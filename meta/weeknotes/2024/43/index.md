# 2024 - Week 43

## Correcting cadence

For once, it would appear we have made good on [our promise](https://ukparliament.github.io/ontologies/meta/weeknotes/2024/42/#correcting-cadence). Two sets of weeknotes in two weeks being quite the treat for our regular reader.

## New, old search

Progress on [new, old search](https://search-prototype.herokuapp.com/search-prototype) continues to be made. At pace, as [Young Robert](https://bsky.app/profile/robertbrook.bsky.social) might say. At scale, as he might add. Glancing across at the burndown chart on our interactive dashboard, we notice only a slight blip. This due to Developer Jon suffering under the weight of a cold of catastrophic proportions. The last time we saw the lad, he reported that he was "dying of death" and promptly went back to bed. Get well soon Jon. We need you.

Work is currently focussed on tidying what has gone before, though [Librarian Anya](https://bsky.app/profile/anyaso.bsky.social) has taken to 'grooming [the backlog](https://trello.com/b/hP5FLFHA/search-mvp-front-end)' into what Young Robert might call 'epics'. Quite a number of 'epics' still waiting on the todo pile. In tidying news, the leading of text in [result items](https://search-prototype.herokuapp.com/search-prototype/search?query=conker&commit=Search) has now been fixed, research briefings lacking 'landing page text' now [fall back to description text](https://search-prototype.herokuapp.com/search-prototype/objects?object=http%3A%2F%2Fdata.parliament.uk%2Fresources%2F1464641) and an answering body label has been applied across questions, both [written](https://search-prototype.herokuapp.com/search-prototype/search?filter%5Btype_sesrollup%5D%5B%5D=93522&query=horses&expanded_types=347197) and [oral](https://search-prototype.herokuapp.com/search-prototype/search?expanded_types=347197%2C92277&filter%5Btype_sesrollup%5D%5B%5D=92569&query=horses). Reflecting changes made elsewhere, [deposited papers](https://search-prototype.herokuapp.com/search-prototype/objects?object=http%3A%2F%2Fdata.parliament.uk%2Fdepositedpapers%2F2285738) now have a single author field encompassing both corporate authors and personal authors.

Unfortunately, Jon is not only suffering under the weight of his man-flu affliction, he's also reached the end of his contract. Not great news considering the length of the backlog and the number of 'epics'. Fortunately, the Library has managed to find some money from somewhere so he'll be sticking around. But not for the full working week. Progress will, inevitably, slow. We can only apologise.

## I am a procedural cartographer - to [the tune of the Palace Brothers](https://www.youtube.com/watch?v=owvF3Vb0JhA&ab_channel=tomkat69pc)

Whilst we have no new [maps](https://ukparliament.github.io/ontologies/procedure/maps/) to show you this week, Librarian Jayne has updated pretty much all of the old ones. This to say that, should an instrument be laid and *not* withdrawn, certain committees are *caused* to report on it. Whilst an instrument being laid and withdrawn changes the *caused* relationship to a more appropriate *allows*. No one is taking away the right of the committee to consider the instrument, the decision is theirs and theirs alone.

This late breaking change arose because - when we remapped all our procedures into their new and improved logical and arithmetic shape - our [design patterns](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/) said a [Decision Step](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#decision-steps) must sit immediately before a [Business Step](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#potential-states-of-a-business-step), [AND](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#and-steps) and [OR](https://ukparliament.github.io/ontologies/procedure/maps/meta/design-notes/#or-steps) steps being binary and unable to process an input of ALLOWS. A late change to ternary logic gates - weeknotes passim, let's not go there - means ANDs and ORs have expanded their input and output states by a good 50%. Our [procedure parsing code](https://github.com/ukparliament/procedure-parsing) has been updated accordingly, conditional switching from *causes* to *allows* becoming possible in the process. Which is probably way too much information, but we never like to hide implementation details from our esteemed reader.

## What goes in must come out

Still on the subject of procedure mapping, what Young Robert might call our procedure tracking 'stack' relies on three components, all somewhat neglected in terms of development effort. Sitting in the middle is our third - or fourth? - attempt at a [data platform](https://api.parliament.uk/). Sometimes wistfully referred to as the [Samu](https://uk.linkedin.com/in/langsamu) [triplestore](https://en.wikipedia.org/wiki/Triplestore). For reasons we don't pretend to understand, this continues to work like clockwork, despite having been barely touched by human hand for the past seven years or so. That said, any data platform is only ever as good as the tools provided to get data in, and the tools available to query and serialise the data back out. Let's start with getting data in.

One of the things sitting behind data platform mk 3 is the procedure editor application. This is where our crack team of librarians manage both the procedure map data that we all know and love, and the tracking of individual events during Parliament's scrutiny of instruments subject to those procedures. It was only ever intended to be an interim solution, the fact that it sits atop a database called the 'interim database' giving that game away. Unfortunately, it's now been an interim solution for the last seven years and its feet are on their last pair of legs.

There are two main problems with procedure editor:
	
* The [data model](https://github.com/ukparliament/ontologies/blob/master/procedure/meta/editor/schema.svg) is locked in a relational database, any changes requiring developer effort to both schema and application code. Where developer inevitably means our Jianhan. Our Jianhan being nothing if not time poor.

* It is heavily reliant on JavaScript with no pagination. The code to get a list of things brings back the absolute bare bones, which then get decorated by what people used to call [AJAX](https://en.wikipedia.org/wiki/Ajax_(programming)), but now just call bad design. This means that, as the volume of data increases and the lists get longer, the value of n in [n+1](https://restfulapi.net/rest-api-n-1-problem/) tends toward infinity. HTTP not being as young as it used to be, it gets a little tired and some pages now fail to load. Being resilient types in the face of computational adversities, our crack team of librarians have developed workarounds, but it's all less than ideal. And comes with the constant threat of the thing just turning up its toes one day.

For this reason, Librarians [Ayesha](https://bsky.app/profile/askalibrarylady.bsky.social) and Jayne have dragged computational whizzkids Young Robert and [Michael](https://bsky.app/profile/fantasticlife.bsky.social) into a series of meetings with family friend Silver. Their aim, to investigate whether it might be possible to port both model and data into [Data Graphs](https://datalanguage.com/products/datagraphs). There is no promise of success, but progress is being made. A '[safe to fail probe](https://cynefin.io/wiki/Safe_to_fail_probes)' then, as Young Robert might say.

This being an admin application, there's nothing we can really point our dear reader at. You'll just have to take our word on the progress part. That said, we've also taken the opportunity to rework some rather core parts of our [procedure ontology](https://ukparliament.github.io/ontologies/procedure/procedure-ontology), which is now looking better than ever. In our opinion. Though we would not advise looking too closely. Whilst we're more than happy with the [shape of the thing](https://api.parliament.uk/webvowl/#opts=sidebar=0;doc=0;mode_compact=true;mode_colorExt=false;#iri=https://ukparliament.github.io/ontologies/procedure/procedure-ontology.ttl), the comments could use a little work. That's waiting on the return of Robert and his tiny commenting chisel from what he would, inevitably, call his golfing vacation.

If you were unfortunate enough to be assigned weeknotes reading duties [last week](https://ukparliament.github.io/ontologies/meta/weeknotes/2024/42/), you'll know that we've also made some progress on the other end of the pipes. Whilst our [statutory instruments](https://statutoryinstruments.parliament.uk/) and [treaty tracking](https://treaties.parliament.uk/) websites are more than fine if you want to know [what things have happened to an instrument](https://treaties.parliament.uk/treaty/ooz6XKMs/CP-1107), they are less fine if you want to know which instruments a thing has happened to. Librarian Jayne's [SPARQL library](https://ukparliament.github.io/ontologies/procedure/meta/queries/) bearing testement to unmet user needs - from both inside and outside Parliament - in this regard. For that reason - and to give the SPARQL library a more comfortable home - we've also started work on a thing with the working title of [procedure browser](https://procedure-browser-036a79442650.herokuapp.com/). Which is also going remarkably well. As ever, we're starting work by establishing the bone structure and designing from the domain model outwards. After all, why get distracted by pixels when there's the joy of [URL structures](https://procedure-browser-036a79442650.herokuapp.com/) to get stuck into? As of this week, we have all pages under [step types](https://procedure-browser-036a79442650.herokuapp.com/step-types/Jwc6nqJi), [steps](https://procedure-browser-036a79442650.herokuapp.com/steps/cspzmb6w) and [step collections](https://procedure-browser-036a79442650.herokuapp.com/step-collections/m7fzgEd2) coded and 'complete', with the merest hint of the [actual procedures](https://procedure-browser-036a79442650.herokuapp.com/procedures) making their presence felt. If you drift down to the [bottom of any page](https://procedure-browser-036a79442650.herokuapp.com/procedures#sparql), you'll also find the [SPARQL queries](https://github.com/ukparliament/procedure-browser/tree/main/lib/sparql/queries) used to construct that page. Thanks be to Librarian Jayne. Being firm believers that lifting the bonnet should always be possible, it's the bit we're most chuffed with. Obviously.

## Taxonomic liberation (or In search of specialists)

Replacing procedure editor is not our only Data Graphs project. We've also been looking at it to replace our Odds and Sods Information System (OaSIS) - a system to create records for things lacking feeds - and to provide the underpinnings of our Single Subject View of the Library. The latter being a project to place everything the Library knows about a subject - specialists, briefings, insights, current awareness, enquiries and the book catalogue - in one place. This to make life easier for both researchers and customers.

Way back in week 37, Librarians Anya and Susannah took their computational lapdogs Young Robert and Michael for [a stroll along Brighton prom](https://ukparliament.github.io/ontologies/meta/weeknotes/2024/39/#taxonomic-liberation). Ministure train travelled on, they met with Silver for a Single Subject View planning session. Now Michael - [as you may know](https://smethur.st/posts/38810571) - has never been a big fan of what people tend to call 'design deliverables', believing that if a service is intended to be delivered via a browser, it should be designed in a browser. Albeit under sufferance - though not whining - he took out his sharpie and a fag packet or two and sketched out [some wireframes](https://github.com/ukparliament/ontologies/blob/master/meta/library-information-architecture/single-subject-view/wireframes/wireframes.svg). This week, we saw the first fruits of said 'deliverables', Developer Charlie turning Michael's fag packet sketches into actual working code. And lovely it looks too.

## Taxonomic updates

A Single Subject View of the Library is, of course, only made possible by the love and care that has been poured into [our taxonomy](https://explore.data.parliament.uk/index.html?endpoint=terms) over the last 20 odd years. This week, that taxonomy flexed once again, when the [committees website](https://committees.parliament.uk/) team recategorised all joint committees with 'draft' in their name as Select Committees. Said committees were also subjected to a - website only - rename, the 'Joint Committee on the Draft [whatever] Bill' being restyled as the 'Draft [whatever] Bill (Joint Committee)'. We can only assume that someone, somewhere has a listing problem. The taxonomy has been updated to reflect.

It was also noted that the Local Audit Draft Bill ad-hoc Committee has somehow gone missing from the Parliament website. We're told a data migration from 'several different systems' used by 'several different people' over 'several decades' did not go entirely to plan. The blasted computers win again.

## On orders being standing

Last time out, we reported that [Shedcode](https://shedcode.co.uk/) [James](https://mastodon.me.uk/@jamesjefferies) thought he'd fixed the lack of paragraph numbering on our [standing orders application](https://api.parliament.uk/standing-orders/revision-sets/271). This week, we're delighted to report that Librarian Claire has checked that work and confirmed it is indeed correct. It being a delight to use coming as an additional bonus. Top work James. Top work Claire.


## Outreach and engagment

This week has seen outreach and engagement efforts both cross-border and closer to home. Librarians Emily and Susannah accompanied boss boss 'brarian Bryn across county lines to Edinburgh for attendance at the Inter-Parliamentary Research and Information Network annual conference. We're told that Susannah and Bryn [took to the stage](https://www.youtube.com/watch?v=rgEw_YtfxYM) for a workshop on preparing for and dealing with a general election, co-presenting alongside a researcher from the Senedd, We're also told that our [election results website](https://electionresults.parliament.uk/) got a shout out. Which is always nice. Emily reports that the Library's very own Sarah Priestly gave an excellent talk on supporting cross cutting research and that colleagues from POST were also in attendance. We would link you to the conference website but it is, apparently, still under construction. If you're up in Edinburgh, do keep an eye out for them. But mind they don't keep you up too late. Notoriously thirsty creatures are librarians.

Michael also managed to do his bit, delivering a talk on the [philosophical aspects of triplestores](https://docs.google.com/presentation/d/1_SE9rXP8gfFNmLC3sbLCqxdC8Q_q9F-IwGbJ2N1pWxQ/edit?usp=sharing) to [computational section](https://www.parliament.uk/mps-lords-and-offices/offices/bicameral/parliamentary-digital-service/) colleagues. Librarians Anya, Ayseha, Jayne and [Phil](https://bsky.app/profile/philbgorman.bsky.social) popping across to Victoria Street for much-needed moral support. Open world models were mentioned, closed world models got a look in, inference and reasoning both explored. It seemed to go quite well, Michael managing to not trip over his own tongue for the best part of 40 minutes. A personal record perhaps.